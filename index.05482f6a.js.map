{"mappings":"AAEA,MAAMA,EAAUC,SAASC,cAAc,eACjCC,EAAWF,SAASC,cAAc,gBAClCE,EAAcH,SAASC,cAAc,eACrCG,EAAkB,GAExBL,EAAQM,iBAAiB,UAGzB,SAAsBC,GACpBA,EAAMC,iBAIN,MAAMC,EAAU,sDACUN,EAASO,wuBA2BnC,IAAKP,EAASO,MAEZ,YADAC,MAAM,+BAIRP,EAAYQ,mBAAmB,YAAaH,GAC5CJ,EAAgBQ,KAAKJ,GACrBF,EAAMO,cAAcC,QAIpB,IAAK,MAAMC,KAAQX,EAAiB,CAClC,MAAMY,EAAQZ,EAAgBa,QAAQF,GACtCG,aAAaC,QAAQ,GAAGH,IAASD,E,KAIrC,WACE,IAAKG,aAAaE,OAChB,OAGF,IAAK,IAAIC,EAAI,EAAGA,EAAIH,aAAaE,OAAQC,IACvCjB,EAAgBQ,KAAKM,aAAaI,QAAQD,IAE5ClB,EAAYQ,mBAAmB,YAAaP,EAAgBmB,KAAK,I,CA5DnEC,GCDA,SAASC,EAAcnB,GACrB,MAAMoB,OAAEA,GAAWpB,EACbqB,EAASD,EAAOE,QAAQD,OACxBE,EAAWH,EAAOI,QAAQ,MAC1BC,EAAQ/B,SAASC,cAAc,gBAC/B+B,EAAaD,EAAMtB,MAEzB,OAAQkB,GACN,IAAK,OACCD,EAAOO,YAAYC,cAAcC,SAAWR,GAC9CI,EAAMK,gBAAgB,YACtBL,EAAMM,QACNN,EAAMO,eAAiBN,EAAWZ,OAClCM,EAAOO,YAAc,QAErBP,EAAOO,YAAc,OAGvB,MACF,IAAK,OACHM,QAAQC,IAAI,QACZ,MACF,IAAK,SACHX,EAASY,SAET,IAAK,MAAM1B,KAAQX,EACbW,EAAK2B,SAASV,IAChBd,aAAayB,WAAWvC,EAAgBa,QAAQF,GAAM6B,Y,CAhC7C5C,SAAS6C,iBAAiB,mBAClCC,SAAQC,GACjBA,EAAW1C,iBAAiB,QAASoB","sources":["src/js/todo-add.js","src/js/todo-modify.js"],"sourcesContent":["export { itemsCollection };\n\nconst formRef = document.querySelector('.todo__form');\nconst inputRef = document.querySelector('.todo__field');\nconst todoListRef = document.querySelector('.todo__list');\nconst itemsCollection = [];\n\nformRef.addEventListener('submit', onFormSubmit);\nrefreshPage();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  //create html\n\n  const newItem = `<li class=\"todo__item\">\n            <input value=\"${inputRef.value}\" class=\"todo__input\"></input>\n            <div class=\"todo__btn-list\">\n              <button\n                type=\"button\"\n                data-action=\"edit\"\n                class=\"todo__btn-item todo__edit\"\n              >\n                Edit\n              </button>\n              <button\n                type=\"button\"\n                data-action=\"done\"\n                class=\"todo__btn-item todo__done\"\n              >\n                Done\n              </button>\n              <button\n                type=\"button\"\n                data-action=\"delete\"\n                class=\"todo__btn-item todo__delete\"\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n    `;\n\n  if (!inputRef.value) {\n    alert('You cannot add empty field!');\n    return;\n  }\n\n  todoListRef.insertAdjacentHTML('beforeend', newItem);\n  itemsCollection.push(newItem);\n  event.currentTarget.reset();\n\n  // local storage\n\n  for (const item of itemsCollection) {\n    const index = itemsCollection.indexOf(item);\n    localStorage.setItem(`${index}`, item);\n  }\n}\n\nfunction refreshPage() {\n  if (!localStorage.length) {\n    return;\n  }\n\n  for (let i = 0; i < localStorage.length; i++) {\n    itemsCollection.push(localStorage.getItem(i));\n  }\n  todoListRef.insertAdjacentHTML('beforeend', itemsCollection.join(''));\n}\n","import { itemsCollection } from './todo-add.js';\n\nconst btnListRef = document.querySelectorAll('.todo__btn-list');\nbtnListRef.forEach(buttonItem =>\n  buttonItem.addEventListener('click', onClickAction)\n);\n\nfunction onClickAction(event) {\n  const { target } = event;\n  const action = target.dataset.action;\n  const parentLi = target.closest('li');\n  const input = document.querySelector('.todo__input');\n  const inputValue = input.value;\n\n  switch (action) {\n    case 'edit':\n      if (target.textContent.toLowerCase().trim() === action) {\n        input.removeAttribute('readonly');\n        input.focus();\n        input.selectionStart = inputValue.length;\n        target.textContent = 'save';\n      } else {\n        target.textContent = 'edit';\n        // input.setAttribute('readonly', 'readonly');\n      }\n      break;\n    case 'done':\n      console.log('done');\n      break;\n    case 'delete':\n      parentLi.remove();\n\n      for (const item of itemsCollection) {\n        if (item.includes(inputValue)) {\n          localStorage.removeItem(itemsCollection.indexOf(item).toString());\n        }\n      }\n  }\n}\n"],"names":["$8586bdbfec57f1ca$var$formRef","document","querySelector","$8586bdbfec57f1ca$var$inputRef","$8586bdbfec57f1ca$var$todoListRef","$8586bdbfec57f1ca$export$28f98f0605ada4d5","addEventListener","event","preventDefault","newItem","value","alert","insertAdjacentHTML","push","currentTarget","reset","item","index","indexOf","localStorage","setItem","length","i","getItem","join","$8586bdbfec57f1ca$var$refreshPage","$ee7843da686c71cd$var$onClickAction","target","action","dataset","parentLi","closest","input","inputValue","textContent","toLowerCase","trim","removeAttribute","focus","selectionStart","console","log","remove","includes","removeItem","toString","querySelectorAll","forEach","buttonItem"],"version":3,"file":"index.05482f6a.js.map"}