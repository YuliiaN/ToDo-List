{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,eACjCC,EAAWF,SAASC,cAAc,gBAClCE,EAAcH,SAASC,cAAc,eACrCG,EAAkB,GAuExB,SAASC,EAAcC,GACrB,MAAMC,OAAEA,GAAWD,EACbE,EAASD,EAAOE,QAAQD,OACxBE,EAAWH,EAAOI,QAAQ,MAC1BC,EAAQF,EAASG,SAAS,GAEhC,OAAQL,GACN,IAAK,OAmBH,MACF,IAAK,OACHM,QAAQC,IAAI,QACZ,MACF,IAAK,SACHL,EAASM,SAET,IAAK,MAAMC,KAAQb,EACba,EAAKC,SAASN,EAAMO,QACtBC,aAAaC,WAAWjB,EAAgBkB,QAAQL,GAAMM,Y,CAxGhExB,EAAQyB,iBAAiB,UAGzB,SAAsBlB,GACpBA,EAAMmB,iBAIN,MAAMC,EAAU,sDACUxB,EAASiB,wuBA2BnC,IAAKjB,EAASiB,MAEZ,YADAQ,MAAM,+BAIRxB,EAAYyB,mBAAmB,YAAaF,GAC5CtB,EAAgByB,KAAKH,GACrBpB,EAAMwB,cAAcC,QAIpB,IAAK,MAAMd,KAAQb,EAAiB,CAClC,MAAM4B,EAAQ5B,EAAgBkB,QAAQL,GACtCG,aAAaa,QAAQ,GAAGD,IAASf,E,CAGhBjB,SAASkC,iBAAiB,mBAClCC,SAAQC,GACjBA,EAAWZ,iBAAiB,QAASnB,I,IAIzC,WACE,IAAKe,aAAaiB,OAChB,OAGF,IAAK,IAAIC,EAAI,EAAGA,EAAIlB,aAAaiB,OAAQC,IACvClC,EAAgByB,KAAKT,aAAamB,QAAQD,IAE5CnC,EAAYyB,mBAAmB,YAAaxB,EAAgBoC,KAAK,I,CAjEnEC","sources":["src/index.js"],"sourcesContent":["const formRef = document.querySelector('.todo__form');\nconst inputRef = document.querySelector('.todo__field');\nconst todoListRef = document.querySelector('.todo__list');\nconst itemsCollection = [];\n\nformRef.addEventListener('submit', onFormSubmit);\nrefreshPage();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  //create html\n\n  const newItem = `<li class=\"todo__item\">\n            <input value=\"${inputRef.value}\" class=\"todo__input\"></input>\n            <div class=\"todo__btn-list\">\n              <button\n                type=\"button\"\n                data-action=\"edit\"\n                class=\"todo__btn-item todo__edit\"\n              >\n                Edit\n              </button>\n              <button\n                type=\"button\"\n                data-action=\"done\"\n                class=\"todo__btn-item todo__done\"\n              >\n                Done\n              </button>\n              <button\n                type=\"button\"\n                data-action=\"delete\"\n                class=\"todo__btn-item todo__delete\"\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n    `;\n\n  if (!inputRef.value) {\n    alert('You cannot add empty field!');\n    return;\n  }\n\n  todoListRef.insertAdjacentHTML('beforeend', newItem);\n  itemsCollection.push(newItem);\n  event.currentTarget.reset();\n\n  // local storage\n\n  for (const item of itemsCollection) {\n    const index = itemsCollection.indexOf(item);\n    localStorage.setItem(`${index}`, item);\n  }\n\n  const btnListRef = document.querySelectorAll('.todo__btn-list');\n  btnListRef.forEach(buttonItem =>\n    buttonItem.addEventListener('click', onClickAction)\n  );\n}\n\nfunction refreshPage() {\n  if (!localStorage.length) {\n    return;\n  }\n\n  for (let i = 0; i < localStorage.length; i++) {\n    itemsCollection.push(localStorage.getItem(i));\n  }\n  todoListRef.insertAdjacentHTML('beforeend', itemsCollection.join(''));\n}\n\nfunction onClickAction(event) {\n  const { target } = event;\n  const action = target.dataset.action;\n  const parentLi = target.closest('li');\n  const input = parentLi.children[0];\n  // const inputValue = input.value;\n  switch (action) {\n    case 'edit':\n      // if (target.textContent.toLowerCase().trim() === action) {\n      //   input.removeAttribute('readonly');\n      //   input.focus();\n      //   input.selectionStart = input.value.length;\n      //   target.textContent = 'save';\n      //   inputRef.value = input.value;\n      //   // for (const item of itemsCollection) {\n      //   //   if (item.includes(input.value)) {\n      //   //     localStorage.setItem(\n      //   //       itemsCollection.indexOf(item).toString(),\n      //   //       parentLi.innerHTML\n      //   //     );\n      //   //   }\n      //   // }\n      // } else {\n      //   target.textContent = 'edit';\n      //   // input.setAttribute('readonly', 'readonly');\n      // }\n      break;\n    case 'done':\n      console.log('done');\n      break;\n    case 'delete':\n      parentLi.remove();\n\n      for (const item of itemsCollection) {\n        if (item.includes(input.value)) {\n          localStorage.removeItem(itemsCollection.indexOf(item).toString());\n        }\n      }\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$formRef","document","querySelector","$1f0dc3b9307be026$var$inputRef","$1f0dc3b9307be026$var$todoListRef","$1f0dc3b9307be026$var$itemsCollection","$1f0dc3b9307be026$var$onClickAction","event","target","action","dataset","parentLi","closest","input","children","console","log","remove","item","includes","value","localStorage","removeItem","indexOf","toString","addEventListener","preventDefault","newItem","alert","insertAdjacentHTML","push","currentTarget","reset","index","setItem","querySelectorAll","forEach","buttonItem","length","i","getItem","join","$1f0dc3b9307be026$var$refreshPage"],"version":3,"file":"index.7d509359.js.map"}